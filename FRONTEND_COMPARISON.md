# Frontend Comparison: Main Branch vs Current (demo-light)

## Overview
You now have **TWO different React frontends** running in this repo:

### 1. **Main Branch** (`frontend-main-branch/`)
- **URL**: http://localhost:5173 (default Vite port, not running yet)
- **Purpose**: Production demo with hardcoded AI/ML examples
- **Data Source**: Hardcoded in `App.jsx` (10 questions embedded)
- **GitHub**: Matches https://github.com/HeTalksInMaths/aqumen-demo main branch

### 2. **Current Branch** (`frontend/`)
- **URL**: http://localhost:3000 (currently running)
- **Purpose**: Multi-version testing (original vs modular architectures)
- **Data Source**: `constants.js` with pipeline-generated examples
- **Status**: Running now, shows original demo version

---

## Key Differences

### Architecture

| Feature | Main Branch | Current Branch |
|---------|-------------|----------------|
| **File Structure** | Clean single-component (`App.jsx`) | Multi-component modular architecture |
| **Styling** | TailwindCSS with custom config | Inline styles + basic Tailwind |
| **Entry Point** | `src/main.jsx` → `App.jsx` | `src/main.jsx` → `demo.jsx` |
| **Components** | Monolithic App component | Separate components folder |
| **Package Name** | `react-assessment` | `aqumen-demo` |

### Data & Content

**Main Branch** (`App.jsx` lines 15-229):
- **10 hardcoded questions** embedded directly in code
- Topics: Transformers, RAG, LLM APIs, Fine-tuning, RLHF, etc.
- Errors marked with `<<error_text>>` delimiters
- Example:
  ```javascript
  code: [
    "def attention(query, key, value, mask=None):",
    "    scores = torch.matmul(query, key.transpose(-2, -1)) / <<math.sqrt(d_k)>>",
  ]
  ```

**Current Branch** (`constants.js`):
- Questions generated by 7-step pipeline
- More varied topics (some from actual pipeline runs)
- Structured differently - full assessment objects

### Vite Configuration

**Main Branch** (`vite.config.js`):
```javascript
server: {
  hmr: {
    overlay: false,  // Disable error overlay
  },
}
// Default port: 5173
```

**Current Branch** (`vite.config.js`):
```javascript
server: {
  port: 3000,        // Custom port
  open: true         // Auto-open browser
},
esbuild: {
  loader: 'jsx',     // Extended JSX support
  include: /src\/.*\.jsx?$/,
}
```

### Dependencies

**Main Branch**:
- ✅ TailwindCSS with PostCSS
- ✅ ESLint configured
- ✅ Modern Vite 5.x
- ❌ No testing setup

**Current Branch**:
- ✅ Jest testing framework
- ✅ React Testing Library
- ✅ Babel preset for React
- ❌ No TailwindCSS (uses inline styles)

---

## Component Comparison

### Main Branch Structure
```
frontend-main-branch/
├── src/
│   ├── App.jsx           (810 lines - everything in one file)
│   ├── main.jsx          (5 lines - simple entry)
│   └── index.css         (Tailwind imports)
├── index.html
├── package.json
└── vite.config.js
```

### Current Branch Structure
```
frontend/
├── src/
│   ├── demo.jsx          (Main demo component)
│   └── main.jsx          (Version switcher logic)
├── components/           (Modular components)
│   ├── Header.jsx
│   ├── Footer.jsx
│   ├── AssessmentQuestion.jsx
│   └── ... (more components)
├── constants.js          (Sample data)
├── hooks.js              (Custom React hooks)
├── utils.js              (Helper functions)
└── ... (multiple demo versions)
```

---

## Feature Comparison

### Click Tracking & Scoring

**Main Branch**:
- Delimiter-based error detection (`<<error>>`)
- Parses errors on mount using regex
- F1-score based scoring (precision + recall)
- Auto-submit after 3 clicks
- Visual click indicators with numbered badges

**Current Branch**:
- Similar click tracking mechanism
- Different scoring algorithm
- More complex multi-version architecture
- Version switcher between original/modular

### UI/UX Differences

**Main Branch**:
- ✅ Cleaner gradient backgrounds (`from-blue-50 to-indigo-100`)
- ✅ Better difficulty badges (color-coded)
- ✅ Progress bar with smooth animations
- ✅ "Show Solution" toggle with error explanations
- ✅ Performance tips after each question
- ✅ Comprehensive final results screen

**Current Branch**:
- More experimental UI
- Version comparison functionality
- Debug-oriented display

---

## Running Both Frontends

### Start Main Branch Frontend
```bash
cd "/Users/hetalksinmaths/adversarial demo/frontend-main-branch"
npm install  # First time only
npm run dev  # Runs on http://localhost:5173
```

### Current Frontend Already Running
```bash
# Already running on http://localhost:3000
# Started from: /Users/hetalksinmaths/adversarial demo/frontend
```

---

## Which Should You Use?

### Use **Main Branch** (`frontend-main-branch/`) for:
- ✅ **Production demos** - Clean, polished UI
- ✅ **Showing to users** - Professional presentation
- ✅ **Hardcoded examples** - No API needed
- ✅ **Quick testing** - 10 curated questions ready to go

### Use **Current Branch** (`frontend/`) for:
- ✅ **Development testing** - Version comparisons
- ✅ **Pipeline integration** - When connecting to API
- ✅ **Architecture experiments** - Modular vs monolithic
- ✅ **Component testing** - Separate component files

---

## Next Steps to Connect to Pipeline

To connect **either frontend** to your FastAPI backend (SSE streaming):

1. **Modify the data fetching** in the component
2. **Add SSE client** (like `eventsource` or fetch with `stream: true`)
3. **Replace hardcoded questions** with API calls to `/api/generate-stream`
4. **Handle streaming steps** - Show each step as it arrives
5. **Update UI** - Add loading states, step indicators

The **Streamlit dev UI** (`frontend-dev/streamlit_app.py`) already does this!
You could port its SSE logic to the React frontend.

---

## Summary

- **Main Branch** = Polished production demo with hardcoded questions
- **Current Branch** = Experimental multi-version architecture
- **Streamlit Dev** = Backend testing with real API calls
- **FastAPI Backend** = The actual 7-step pipeline with SSE streaming

You have **3 frontends** total in this repo!
